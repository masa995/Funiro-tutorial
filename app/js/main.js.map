{"version":3,"sources":["dynamicAdapt.js","ibg.js","lock.js","burger.js","lightgallery.js","slider.js","main.js"],"names":["DynamicAdapt","type","prototype","init","_this","оbjects","daClassname","nodes","document","querySelectorAll","i","length","node","data","dataset","da","trim","dataArray","split","оbject","element","parent","parentNode","destination","querySelector","breakpoint","place","index","indexInParent","push","arraySort","mediaQueries","Array","map","call","item","filter","self","indexOf","media","mediaSplit","String","matchMedia","window","mediaBreakpoint","оbjectsFilter","addListener","mediaHandler","matches","moveTo","classList","contains","moveBack","add","children","insertAdjacentElement","remove","undefined","array","slice","arr","sort","a","b","ibg","forEach","el","style","backgroundImage","getAttribute","lockScroll","pagePosition","scrollY","body","position","top","unlockScroll","parseInt","scroll","left","removeAttribute","burger","menu","addEventListener","lightGallery","getElementById","selector","licenseKey","plugins","lgAutoplay","speed","Swiper","observer","observeParents","slidesPerView","spaceBetween","watchOverflow","loop","loopAdditionalSlides","preloadImage","parallax","pagination","clickable","navigation","nextEl","prevEl","loopedSlides","breakpoints","onload","documentActions","e","targetElement","target","innerWidth","isTouchDevice","closest","toggle","hoverItemElem","elem","preventDefault","getProducts","productId","pid","addToCart","cartPid","updateCart","headerElem","callback","entries","isIntersecting","headerObserver","IntersectionObserver","observe","ontouchstart","button","file","response","fetch","method","then","ok","result","json","loadProducts","console","error","alert","productsItem","products","id","productUrl","url","productImage","image","productTitle","title","productText","text","productPrice","price","productOldPrice","priceOld","productShareUrl","shareUrl","productLikeUrl","likeUrl","productLabels","labels","productTemplateStart","productTemplateEnd","productTemplateLabels","productTemplateLabelsStart","productTemplateLabelsEnd","productTemplateLabelsContent","labelItem","value","productTemplateImage","productTemplateBodyStart","productTemplateBodyEnd","productTemplateContent","productTemplatePrices","productTemplatePricesStart","productTemplatePricesCurrent","productTemplatePricesOld","productTemplatePricesEnd","productTemplateActions","productTemplateBody","productTemplate","insertAdjacentHTML","productButton","cart","product","productImge","productImageFly","cloneNode","productImageFlyWidth","offsetWidth","productImageFlyHeight","offsetHeight","productImageFlyTop","getBoundingClientRect","productImageFlyLeft","setAttribute","cssText","append","cartFlyLeft","cartFlyTop","productAdd","cartIcon","cartQuantity","cartProduct","cartList","innerHTML","textContent","cartProductImage","cartProductTitle","cartProductContent","cartProductQuantity","cartProductQuantityNum","cartQuantityValue","furniture","setMouseGalleryStyle","furnitureItemsWidth","furnitureColumn","furnitureDifferent","distX","Math","floor","coordXprocent","positionX","furnitureItems","abs","requestAnimationFrame","furnitureWidth","coordX","pageX"],"mappings":"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","file":"main.js","sourcesContent":["// Dynamic Adapt v.1\r\n// HTML data-da=\"where(uniq class name),when(breakpoint),position(digi)\"\r\n// e.x. data-da=\".item,992,2\"\r\n// Andrikanych Yevhen 2020\r\n// https://www.youtube.com/c/freelancerlifestyle\r\n\r\n\"use strict\";\r\n\r\nfunction DynamicAdapt(type) {\r\n  this.type = type;\r\n}\r\n\r\nDynamicAdapt.prototype.init = function () {\r\n  const _this = this;\r\n  // массив объектов\r\n  this.оbjects = [];\r\n  this.daClassname = \"_dynamic_adapt_\";\r\n  // массив DOM-элементов\r\n  this.nodes = document.querySelectorAll(\"[data-da]\");\r\n\r\n  // наполнение оbjects объктами\r\n  for (let i = 0; i < this.nodes.length; i++) {\r\n    const node = this.nodes[i];\r\n    const data = node.dataset.da.trim();\r\n    const dataArray = data.split(\",\");\r\n    const оbject = {};\r\n    оbject.element = node;\r\n    оbject.parent = node.parentNode;\r\n    оbject.destination = document.querySelector(dataArray[0].trim());\r\n    оbject.breakpoint = dataArray[1] ? dataArray[1].trim() : \"767\";\r\n    оbject.place = dataArray[2] ? dataArray[2].trim() : \"last\";\r\n    оbject.index = this.indexInParent(оbject.parent, оbject.element);\r\n    this.оbjects.push(оbject);\r\n  }\r\n\r\n  this.arraySort(this.оbjects);\r\n\r\n  // массив уникальных медиа-запросов\r\n  this.mediaQueries = Array.prototype.map.call(this.оbjects, function (item) {\r\n    return '(' + this.type + \"-width: \" + item.breakpoint + \"px),\" + item.breakpoint;\r\n  }, this);\r\n  this.mediaQueries = Array.prototype.filter.call(this.mediaQueries, function (item, index, self) {\r\n    return Array.prototype.indexOf.call(self, item) === index;\r\n  });\r\n\r\n  // навешивание слушателя на медиа-запрос\r\n  // и вызов обработчика при первом запуске\r\n  for (let i = 0; i < this.mediaQueries.length; i++) {\r\n    const media = this.mediaQueries[i];\r\n    const mediaSplit = String.prototype.split.call(media, ',');\r\n    const matchMedia = window.matchMedia(mediaSplit[0]);\r\n    const mediaBreakpoint = mediaSplit[1];\r\n\r\n    // массив объектов с подходящим брейкпоинтом\r\n    const оbjectsFilter = Array.prototype.filter.call(this.оbjects, function (item) {\r\n      return item.breakpoint === mediaBreakpoint;\r\n    });\r\n    matchMedia.addListener(function () {\r\n      _this.mediaHandler(matchMedia, оbjectsFilter);\r\n    });\r\n    this.mediaHandler(matchMedia, оbjectsFilter);\r\n  }\r\n};\r\n\r\nDynamicAdapt.prototype.mediaHandler = function (matchMedia, оbjects) {\r\n  if (matchMedia.matches) {\r\n    for (let i = 0; i < оbjects.length; i++) {\r\n      const оbject = оbjects[i];\r\n      оbject.index = this.indexInParent(оbject.parent, оbject.element);\r\n      this.moveTo(оbject.place, оbject.element, оbject.destination);\r\n    }\r\n  } else {\r\n    for (let i = 0; i < оbjects.length; i++) {\r\n      const оbject = оbjects[i];\r\n      if (оbject.element.classList.contains(this.daClassname)) {\r\n        this.moveBack(оbject.parent, оbject.element, оbject.index);\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\n// Функция перемещения\r\nDynamicAdapt.prototype.moveTo = function (place, element, destination) {\r\n  element.classList.add(this.daClassname);\r\n  if (place === 'last' || place >= destination.children.length) {\r\n    destination.insertAdjacentElement('beforeend', element);\r\n    return;\r\n  }\r\n  if (place === 'first') {\r\n    destination.insertAdjacentElement('afterbegin', element);\r\n    return;\r\n  }\r\n  destination.children[place].insertAdjacentElement('beforebegin', element);\r\n}\r\n\r\n// Функция возврата\r\nDynamicAdapt.prototype.moveBack = function (parent, element, index) {\r\n  element.classList.remove(this.daClassname);\r\n  if (parent.children[index] !== undefined) {\r\n    parent.children[index].insertAdjacentElement('beforebegin', element);\r\n  } else {\r\n    parent.insertAdjacentElement('beforeend', element);\r\n  }\r\n}\r\n\r\n// Функция получения индекса внутри родителя\r\nDynamicAdapt.prototype.indexInParent = function (parent, element) {\r\n  const array = Array.prototype.slice.call(parent.children);\r\n  return Array.prototype.indexOf.call(array, element);\r\n};\r\n\r\n// Функция сортировки массива по breakpoint и place \r\n// по возрастанию для this.type = min\r\n// по убыванию для this.type = max\r\nDynamicAdapt.prototype.arraySort = function (arr) {\r\n  if (this.type === \"min\") {\r\n    Array.prototype.sort.call(arr, function (a, b) {\r\n      if (a.breakpoint === b.breakpoint) {\r\n        if (a.place === b.place) {\r\n          return 0;\r\n        }\r\n\r\n        if (a.place === \"first\" || b.place === \"last\") {\r\n          return -1;\r\n        }\r\n\r\n        if (a.place === \"last\" || b.place === \"first\") {\r\n          return 1;\r\n        }\r\n\r\n        return a.place - b.place;\r\n      }\r\n\r\n      return a.breakpoint - b.breakpoint;\r\n    });\r\n  } else {\r\n    Array.prototype.sort.call(arr, function (a, b) {\r\n      if (a.breakpoint === b.breakpoint) {\r\n        if (a.place === b.place) {\r\n          return 0;\r\n        }\r\n\r\n        if (a.place === \"first\" || b.place === \"last\") {\r\n          return 1;\r\n        }\r\n\r\n        if (a.place === \"last\" || b.place === \"first\") {\r\n          return -1;\r\n        }\r\n\r\n        return b.place - a.place;\r\n      }\r\n\r\n      return b.breakpoint - a.breakpoint;\r\n    });\r\n    return;\r\n  }\r\n};\r\n\r\nconst da = new DynamicAdapt(\"max\");\r\nda.init();","function ibg() {\r\n  let ibg = document.querySelectorAll('.ibg');\r\n  ibg.forEach((el) => {\r\n    if (el.querySelector('img')) {\r\n      el.style.backgroundImage = 'url(' + el.querySelector('img').getAttribute('src') + ')';\r\n    }\r\n  });\r\n}\r\n\r\nibg();","function lockScroll() {\r\n  let pagePosition = window.scrollY; //сохраняем координаты на котором мы находились\r\n  document.body.classList.add('disable-scroll'); //выключаем скролл\r\n  document.body.dataset.position = pagePosition; //передаем в боди новый атребут\r\n  document.body.style.top = -pagePosition; //убираем прыжок при применение стилей\r\n}\r\n\r\nfunction unlockScroll() {\r\n  let pagePosition = parseInt(document.body.dataset.position, 10); //перевод в число позиции из атребота\r\n  document.body.style.top = 'auto';\r\n  document.body.classList.remove('disable-scroll');\r\n  window.scroll({ top: pagePosition, left: 0 });\r\n  document.body.removeAttribute('data-position');\r\n}","\r\nconst burger = document.querySelector('.js-icon-menu');\r\nconst menu = document.querySelector('.js-menu-body');\r\n\r\nburger.addEventListener('click', function () {\r\n  if (burger.classList.contains('_active')) {\r\n    burger.classList.remove('_active');\r\n    menu.classList.remove('_active');\r\n    unlockScroll();\r\n  } else {\r\n    burger.classList.add('_active');\r\n    menu.classList.add('_active');\r\n    lockScroll();\r\n  }\r\n});","//lightgallery js\r\n\r\nlightGallery(document.getElementById('lightgallery'), {\r\n  selector: '.row-furniture__item',\r\n  licenseKey: '0000-0000-000-0000',\r\n  plugins: [lgAutoplay],\r\n  speed: 500\r\n});","if (document.querySelector('.slider-main__body')) {\r\n  new Swiper('.slider-main__body', {\r\n    observer: true, //Установите значение true для включения наблюдателя изменений Swiper и его элементов.\r\n    observeParents: true, //Установите true если вам также нужно следить за изменений родительских элементов Swiper\r\n    slidesPerView: 1,//Кол-во слайдовб которые видны одновременно в контейнере слайдера\r\n    spaceBetween: 32, //Растояние между слайдом\r\n    watchOverflow: true, //Будут скрыты кнопки навигации, если слайдов недостаточно для анимации слайдов.\r\n    speed: 800, //Скорость слайдов\r\n    loop: true, //Бесконечное движение слайдов\r\n    loopAdditionalSlides: 5, //Добавление количества слайдов, которые будут клонированы после создания цикла\r\n    preloadImage: false, //При включении Swiper заставит загружать все изображения\r\n    parallax: true, //Паралакс эффект\r\n    //Dotts\r\n    pagination: {\r\n      el: '.controls-slider-main__dotts',\r\n      clickable: true, //можно кликаить по точкам\r\n    },\r\n\r\n    // Navigation arrows\r\n    navigation: {\r\n      nextEl: '.slider-main .slider-arrow__next',\r\n      prevEl: '.slider-main .slider-arrow__prev',\r\n    }\r\n  });\r\n}\r\n\r\nif (document.querySelector('.slider-rooms__body')) {\r\n  new Swiper('.slider-rooms__body', {\r\n    observer: true, //Установите значение true для включения наблюдателя изменений Swiper и его элементов.\r\n    observeParents: true, //Установите true если вам также нужно следить за изменений родительских элементов Swiper\r\n    slidesPerView: 'auto',//Кол-во слайдовб которые видны одновременно в контейнере слайдера\r\n    spaceBetween: 24, //Растояние между слайдом\r\n    watchOverflow: true, //Будут скрыты кнопки навигации, если слайдов недостаточно для анимации слайдов.\r\n    speed: 800, //Скорость слайдов\r\n    loop: true, //Бесконечное движение слайдов\r\n    loopAdditionalSlides: 5, //Добавление количества слайдов, которые будут клонированы после создания цикла\r\n    loopedSlides: 5, //Если вы используете slidesPerView:'auto' режим loop : true, вы должны сказать Swiper, сколько слайдов он должен зацикливать (дублировать)\r\n    preloadImage: false, //При включении Swiper заставит загружать все изображения\r\n    parallax: true, //Паралакс эффект\r\n\r\n    pagination: {\r\n      el: '.slider-rooms__dotts',\r\n      clickable: true, //можно кликаить по точкам\r\n    },\r\n\r\n    // Navigation arrows\r\n    navigation: {\r\n      nextEl: '.slider-rooms .slider-arrow__next',\r\n      prevEl: '.slider-rooms .slider-arrow__prev',\r\n    }\r\n  })\r\n}\r\n\r\nif (document.querySelector('.slider-tips__body')) {\r\n  new Swiper('.slider-tips__body', {\r\n    observer: true, //Установите значение true для включения наблюдателя изменений Swiper и его элементов.\r\n    observeParents: true, //Установите true если вам также нужно следить за изменений родительских элементов Swiper\r\n    slidesPerView: 3,//Кол-во слайдовб которые видны одновременно в контейнере слайдера\r\n    spaceBetween: 32, //Растояние между слайдом\r\n    watchOverflow: true, //Будут скрыты кнопки навигации, если слайдов недостаточно для анимации слайдов.\r\n    speed: 800, //Скорость слайдов\r\n    loop: true, //Бесконечное движение слайдов\r\n\r\n    breakpoints: {\r\n      // >= 320 px\r\n      320: {\r\n        slidesPerView: 1.1,\r\n        spaceBetween: 15\r\n      },\r\n\r\n      // >=768 px\r\n      768: {\r\n        slidesPerView: 2,\r\n        spaceBetween: 20\r\n      },\r\n\r\n      // >= 992 px\r\n      992: {\r\n        slidesPerView: 3,\r\n        spaceBetween: 32\r\n      }\r\n    },\r\n\r\n    pagination: {\r\n      el: '.slider-tips__dotts',\r\n      clickable: true, //можно кликаить по точкам\r\n    },\r\n\r\n    // Navigation arrows\r\n    navigation: {\r\n      nextEl: '.slider-tips .slider-arrow__next',\r\n      prevEl: '.slider-tips .slider-arrow__prev',\r\n    }\r\n  })\r\n}","window.onload = function () {\r\n  //весь контент загрузися и срабатывает ф-ция\r\n  document.addEventListener('click', documentActions);\r\n  //слушаем клики по всей странице\r\n\r\n  function documentActions(e) {\r\n    const targetElement = e.target; //объект на который мы нажали на всем документов\r\n\r\n    if (window.innerWidth > 768 && isTouchDevice()) {\r\n      if (targetElement.classList.contains('menu__arrow')) {\r\n        targetElement.closest('.menu__item').classList.toggle('_hover');\r\n      }\r\n\r\n      let hoverItemElem = document.querySelectorAll('.menu__item._hover');\r\n\r\n      if (!targetElement.closest('.menu__item') && hoverItemElem.length > 0) {\r\n        hoverItemElem.forEach((el) => {\r\n          el.classList.remove('_hover');\r\n        });\r\n      }\r\n\r\n      if (targetElement.classList.contains('search-form__icon')) {\r\n        document.querySelector('.search-form').classList.toggle('_active');\r\n      } else if (!targetElement.closest('.search-form') && document.querySelector('.search-form._active')) {\r\n        document.querySelector('.search-form').classList.remove('_active');\r\n      }\r\n    }\r\n\r\n    if (window.innerWidth < 768) {\r\n      if (targetElement.closest('.js-accordion__item-menu') && (targetElement.classList.contains('js-accordion__header-menu'))) {\r\n        let elem = targetElement.closest('.js-accordion__item-menu');\r\n        elem.classList.toggle('_active');\r\n      } else if (targetElement.closest('.js-accordion__item-menu') && targetElement.classList.contains('js-accordion__btn-menu')) {\r\n        let elem = targetElement.closest('.js-accordion__item-menu');\r\n        elem.classList.toggle('_active');\r\n      }\r\n\r\n      if (targetElement.classList.contains('search-form__icon')) {\r\n        document.querySelector('.search-form').classList.toggle('_active');\r\n      } else if (!targetElement.closest('.search-form') && document.querySelector('.search-form._active')) {\r\n        document.querySelector('.search-form').classList.remove('_active');\r\n      }\r\n    }\r\n\r\n    //Клик на кнопку more\r\n    if (targetElement.classList.contains('products__more')) {\r\n      e.preventDefault();\r\n      getProducts(targetElement);\r\n    }\r\n\r\n    if (targetElement.classList.contains('actions-product__button')) {\r\n      const productId = targetElement.closest('.item-product').dataset.pid;\r\n      addToCart(targetElement, productId);\r\n      e.preventDefault();\r\n    }\r\n\r\n    if (targetElement.classList.contains('cart-list__delete')) {\r\n      e.preventDefault();\r\n      const productId = targetElement.closest('.cart-list__item').dataset.cartPid;\r\n      updateCart(targetElement, productId, false);\r\n    }\r\n\r\n    if (targetElement.classList.contains('cart-header__icon') || targetElement.closest('.cart-header__icon')) {\r\n      e.preventDefault();\r\n      if (document.querySelector('.cart-list').children.length > 0) {\r\n        document.querySelector('.cart-header').classList.toggle('_active');\r\n      }\r\n    } else if (!targetElement.closest('.cart-header') && !targetElement.classList.contains('actions-product__button')) {\r\n      document.querySelector('.cart-header').classList.remove('_active');\r\n    }\r\n  }\r\n\r\n  //Header\r\n  const headerElem = document.querySelector('.header');\r\n\r\n  const callback = function (entries, observer) {\r\n    if (entries[0].isIntersecting) {\r\n      headerElem.classList.remove('_scroll');\r\n    } else {\r\n      headerElem.classList.add('_scroll');\r\n    }\r\n  }\r\n\r\n  // Intersection Observer API позволяет указать функцию, которая будет вызвана всякий раз для элемента (target) при пересечении его с областью видимости документа (по умолчанию) или заданным элементом (root).\r\n\r\n  const headerObserver = new IntersectionObserver(callback);\r\n\r\n  headerObserver.observe(headerElem);\r\n}\r\n\r\nfunction isTouchDevice() {\r\n  /* сначала выполняется typeof\r\n    если св-во ontouchstart объекта window нет то, оно возвращает undefined\r\n    если есть, то object\r\n    затем идет проверка на undefined\r\n  */\r\n\r\n  return typeof window.ontouchstart !== 'undefined';\r\n}\r\n\r\n//Load More Products\r\nfunction getProducts(button) {\r\n  if (!button.classList.contains('_hold')) { //не допустить  повторных кликов\r\n    button.classList.add('_hold');\r\n    const file = 'json/products.json';\r\n    let response = fetch(file, {\r\n      method: 'GET'\r\n    })\r\n      .then(\r\n        (response) => {\r\n          if (response.ok) {\r\n            let result = response.json();\r\n            return result;\r\n          }\r\n        }\r\n      )\r\n      .then((result) => {\r\n        loadProducts(result);\r\n        button.classList.remove('_hold');\r\n        button.remove();\r\n      })\r\n      .catch((e) => {\r\n        console.error(e);\r\n        alert('Ошибка');\r\n      })\r\n  }\r\n}\r\n\r\nfunction loadProducts(data) {\r\n  const productsItem = document.querySelector('.products__items');\r\n\r\n  data.products.forEach(item => {\r\n    const productId = item.id;\r\n    const productUrl = item.url;\r\n    const productImage = item.image;\r\n    const productTitle = item.title;\r\n    const productText = item.text;\r\n    const productPrice = item.price;\r\n    const productOldPrice = item.priceOld;\r\n    const productShareUrl = item.shareUrl;\r\n    const productLikeUrl = item.likeUrl;\r\n    const productLabels = item.labels; //массив\r\n\r\n    let productTemplateStart = `<article data-pid=\"${productId}\" class=\"products__item item-product\">`;\r\n    let productTemplateEnd = `</article>`;\r\n\r\n    let productTemplateLabels = '';\r\n    if (productLabels) {\r\n      let productTemplateLabelsStart = `<div class=\"item-product__labels\">`;\r\n      let productTemplateLabelsEnd = `</div>`;\r\n      let productTemplateLabelsContent = '';\r\n\r\n      productLabels.forEach(labelItem => {\r\n        productTemplateLabelsContent += `<div class=\"item-product__label item-product__label_${labelItem.type}\">${labelItem.value}</div>`;\r\n      });\r\n\r\n      productTemplateLabels += productTemplateLabelsStart;\r\n      productTemplateLabels += productTemplateLabelsContent;\r\n      productTemplateLabels += productTemplateLabelsEnd;\r\n    }\r\n\r\n    let productTemplateImage = `\r\n  \t<a href=\"${productUrl}\" class=\"item-product__image ibg\">\r\n  \t\t<img src=\"../img/products/${productImage}\" alt=\"${productTitle}\">\r\n  \t</a>\r\n  `;\r\n\r\n    let productTemplateBodyStart = `<div class=\"item-product__body\">`;\r\n    let productTemplateBodyEnd = `</div>`;\r\n\r\n    let productTemplateContent = `\r\n  \t<div class=\"item-product__content\">\r\n  \t\t<h3 class=\"item-product__title\">${productTitle}</h3>\r\n  \t\t<div class=\"item-product__text\">${productText}</div>\r\n  \t</div>\r\n  `;\r\n\r\n    let productTemplatePrices = '';\r\n    let productTemplatePricesStart = `<div class=\"item-product__prices\">`;\r\n    let productTemplatePricesCurrent = `<div class=\"item-product__price\">Rp ${productPrice}</div>`;\r\n    let productTemplatePricesOld = `<div class=\"item-product__price item-product__price_old\">Rp ${productOldPrice}</div>`;\r\n    let productTemplatePricesEnd = `</div>`;\r\n\r\n    productTemplatePrices = productTemplatePricesStart;\r\n    productTemplatePrices += productTemplatePricesCurrent;\r\n    if (productOldPrice) {\r\n      productTemplatePrices += productTemplatePricesOld;\r\n    }\r\n    productTemplatePrices += productTemplatePricesEnd;\r\n\r\n    let productTemplateActions = `\r\n  \t<div class=\"item-product__actions actions-product\">\r\n  \t\t<div class=\"actions-product__body\">\r\n  \t\t\t<a href=\"\" class=\"actions-product__button btn btn_white\">Add to cart</a>\r\n  \t\t\t<a href=\"${productShareUrl}\" class=\"actions-product__link _icon-share\">Share</a>\r\n  \t\t\t<a href=\"${productLikeUrl}\" class=\"actions-product__link _icon-favorite\">Like</a>\r\n  \t\t</div>\r\n  \t</div>\r\n  `;\r\n\r\n    let productTemplateBody = '';\r\n    productTemplateBody += productTemplateBodyStart;\r\n    productTemplateBody += productTemplateContent;\r\n    productTemplateBody += productTemplatePrices;\r\n    productTemplateBody += productTemplateActions;\r\n    productTemplateBody += productTemplateBodyEnd;\r\n\r\n    let productTemplate = '';\r\n    productTemplate += productTemplateStart;\r\n    productTemplate += productTemplateLabels;\r\n    productTemplate += productTemplateImage;\r\n    productTemplate += productTemplateBody;\r\n    productTemplate += productTemplateEnd;\r\n\r\n    productsItem.insertAdjacentHTML('beforeend', productTemplate);\r\n    ibg();\r\n  })\r\n}\r\n\r\n//addToCart\r\nfunction addToCart(productButton, productId) {\r\n  if (!productButton.classList.contains('_hold')) { //не допустить  повторных кликов\r\n    productButton.classList.add('_hold');\r\n    productButton.classList.add('_fly'); //анимация полета\r\n\r\n    const cart = document.querySelector('.cart-header__icon'); //иконка корзины\r\n    const product = document.querySelector(`[data-pid=\"${productId}\"]`); //карточка\r\n    const productImge = product.querySelector('.item-product__image'); //картинка\r\n\r\n    //позволяет клонировать элемент и получить его точную копию.\r\n    //true, если дети узла должны быть клонированы или false для того, чтобы был клонирован только указанный узел.\r\n    const productImageFly = productImge.cloneNode(true);\r\n\r\n    const productImageFlyWidth = productImge.offsetWidth; //ширина элемента с учётом горизантальных padding и border (округляет значения)\r\n    const productImageFlyHeight = productImge.offsetHeight; //высота элемента с учётом вертикальных padding и border (округляет значения)\r\n    const productImageFlyTop = productImge.getBoundingClientRect().top; //координаты сверху\r\n    const productImageFlyLeft = productImge.getBoundingClientRect().left;//координаты слева\r\n\r\n    productImageFly.setAttribute('class', '_flyImage');\r\n    productImageFly.style.cssText = `\r\n    left: ${productImageFlyLeft}px;\r\n    top: ${productImageFlyTop}px;\r\n    width: ${productImageFlyWidth}px;\r\n    height: ${productImageFlyHeight}px;\r\n    opacity: 1;\r\n    transform: scale(1);\r\n    `;\r\n\r\n    document.body.append(productImageFly);\r\n\r\n    //анимация\r\n    const cartFlyLeft = cart.getBoundingClientRect().left;\r\n    const cartFlyTop = cart.getBoundingClientRect().top;\r\n\r\n    productImageFly.style.cssText = `\r\n     left: ${cartFlyLeft}px;\r\n     top: ${cartFlyTop}px;\r\n     opacity: 0;\r\n     width: 0px;\r\n    height: 0px;\r\n    transform: scale(0);\r\n    `;\r\n\r\n    productImageFly.addEventListener('transitionend', function () {\r\n      if (productButton.classList.contains('_fly')) {\r\n        productImageFly.remove();\r\n        updateCart(productButton, productId);\r\n        productButton.classList.remove('_fly');\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction updateCart(productButton, productId, productAdd = true) {\r\n  const cart = document.querySelector('.cart-header');\r\n  const cartIcon = cart.querySelector('.cart-header__icon');\r\n  const cartQuantity = cartIcon.querySelector('span');\r\n  const cartProduct = document.querySelector(`[data-cart-pid = \"${productId}\"]`); //карточка товара в списке\r\n  const cartList = document.querySelector('.cart-list');\r\n\r\n  //Число товаров\r\n  if (productAdd) {\r\n    if (cartQuantity) {\r\n      cartQuantity.innerHTML = ++cartQuantity.textContent;\r\n    } else {\r\n      cartIcon.insertAdjacentHTML('beforeend', `<span>1</span>`);\r\n    }\r\n\r\n    if (!cartProduct) {\r\n      const product = document.querySelector(`[data-pid=\"${productId}\"]`); //товар на странице\r\n      const cartProductImage = product.querySelector('.item-product__image').innerHTML;\r\n      const cartProductTitle = product.querySelector('.item-product__title').innerHTML;\r\n      const cartProductContent = `\r\n      <a href=\"#\" class=\"cart-list__image ibg\">${cartProductImage}</a>\r\n      <div class=\"cart-list__body\">\r\n        <a href=\"\" class=\"cart-list__title\">${cartProductTitle}</a>\r\n        <div class=\"cart-list__quantity\">Quantity <span>1</span></div>\r\n        <a href=\"\" class=\"cart-list__delete\">Delete</a>\r\n      </div>\r\n      `\r\n\r\n      cartList.insertAdjacentHTML('beforeend', `<li data-cart-pid=${productId} class=\"cart-list__item\">${cartProductContent}</li>`);\r\n    } else {\r\n      const cartProductQuantity = cartProduct.querySelector('.cart-list__quantity span');\r\n      const cartProductQuantityNum = parseInt(cartProductQuantity.textContent);\r\n      cartProductQuantity.textContent = cartProductQuantityNum + 1;\r\n    }\r\n\r\n    //После всех действий\r\n    ibg();\r\n    productButton.classList.remove('_hold');\r\n  } else {\r\n    const cartProductQuantity = cartProduct.querySelector('.cart-list__quantity span');\r\n    cartProductQuantity.innerHTML = --cartProductQuantity.innerHTML;\r\n\r\n    if (!parseInt(cartProductQuantity.innerHTML)) {\r\n      cartProduct.remove();\r\n    }\r\n\r\n    const cartQuantityValue = --cartQuantity.innerHTML;\r\n\r\n    if (cartQuantityValue) {\r\n      cartQuantity.innerHTML = cartQuantityValue;\r\n    } else {\r\n      cartQuantity.remove();\r\n    }\r\n  }\r\n}\r\n\r\n//Furniture Gallery\r\nconst furniture = document.querySelector('.furniture__body');\r\nif (furniture && !isTouchDevice()) {\r\n  const furnitureItems = document.querySelector('.furniture__items');\r\n  const furnitureColumn = document.querySelectorAll('.furniture__column');\r\n\r\n  //Скорость анимации\r\n  const speed = furniture.dataset.speed;\r\n\r\n  //Объявляем переменные\r\n  let positionX = 0;\r\n  let coordXprocent = 0;\r\n\r\n  function setMouseGalleryStyle() {\r\n    let furnitureItemsWidth = 0; //ширина всего контента в том числе и скрытого\r\n    furnitureColumn.forEach(elem => {\r\n      furnitureItemsWidth += elem.offsetWidth //offsetWidth = content + padding +  border + scroll\r\n    });\r\n\r\n    const furnitureDifferent = furnitureItemsWidth - furniture.offsetWidth;\r\n    const distX = Math.floor(coordXprocent - positionX); //cмещение\r\n\r\n    positionX = positionX + (distX * speed);\r\n    let position = furnitureDifferent / 200 * positionX;\r\n\r\n    furnitureItems.style.cssText = `transform: translate3d(${-position}px, 0, 0)`;\r\n\r\n    if (Math.abs(distX) > 0) {\r\n      requestAnimationFrame(setMouseGalleryStyle);\r\n    }\r\n    else {\r\n      furniture.classList.remove('_init');\r\n    }\r\n  }\r\n\r\n  furniture.addEventListener(\"mousemove\", (e) => {\r\n\r\n    const furnitureWidth = furniture.offsetWidth; //ширина\r\n    const coordX = e.pageX - furnitureWidth / 2;// ноль посередине\r\n\r\n    coordXprocent = coordX / furnitureWidth * 200;//процент\r\n\r\n    if (!furniture.classList.contains('_init')) {\r\n      requestAnimationFrame(setMouseGalleryStyle);\r\n      furniture.classList.add('_init');\r\n    }\r\n\r\n  })\r\n}\r\n"]}