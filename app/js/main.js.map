{"version":3,"sources":["dynamicAdapt.js","ibg.js","lock.js","burger.js","slider.js","main.js"],"names":["DynamicAdapt","type","this","prototype","init","_this2","_this","оbjects","daClassname","nodes","document","querySelectorAll","i","length","node","dataArray","dataset","da","trim","split","оbject","element","parent","parentNode","destination","querySelector","breakpoint","place","index","indexInParent","push","arraySort","mediaQueries","Array","map","call","item","filter","self","indexOf","_loop","media","mediaSplit","String","matchMedia","window","mediaBreakpoint","оbjectsFilter","addListener","mediaHandler","matches","moveTo","classList","contains","moveBack","add","children","insertAdjacentElement","remove","undefined","array","slice","arr","sort","a","b","ibg","forEach","el","style","backgroundImage","getAttribute","lockScroll","pagePosition","scrollY","body","position","top","unlockScroll","parseInt","scroll","left","removeAttribute","burger","menu","addEventListener","Swiper","observer","observeParents","slidesPerView","spaceBetween","watchOverflow","speed","loop","loopAdditionalSlides","preloadImage","parallax","pagination","clickable","navigation","nextEl","prevEl","onload","e","targetElement","target","closest","toggle","hoverItemElem","data"],"mappings":"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","file":"main.js","sourcesContent":["// Dynamic Adapt v.1\r\n// HTML data-da=\"where(uniq class name),when(breakpoint),position(digi)\"\r\n// e.x. data-da=\".item,992,2\"\r\n// Andrikanych Yevhen 2020\r\n// https://www.youtube.com/c/freelancerlifestyle\r\n\r\n\"use strict\";\r\n\r\nfunction DynamicAdapt(type) {\r\n  this.type = type;\r\n}\r\n\r\nDynamicAdapt.prototype.init = function () {\r\n  const _this = this;\r\n  // массив объектов\r\n  this.оbjects = [];\r\n  this.daClassname = \"_dynamic_adapt_\";\r\n  // массив DOM-элементов\r\n  this.nodes = document.querySelectorAll(\"[data-da]\");\r\n\r\n  // наполнение оbjects объктами\r\n  for (let i = 0; i < this.nodes.length; i++) {\r\n    const node = this.nodes[i];\r\n    const data = node.dataset.da.trim();\r\n    const dataArray = data.split(\",\");\r\n    const оbject = {};\r\n    оbject.element = node;\r\n    оbject.parent = node.parentNode;\r\n    оbject.destination = document.querySelector(dataArray[0].trim());\r\n    оbject.breakpoint = dataArray[1] ? dataArray[1].trim() : \"767\";\r\n    оbject.place = dataArray[2] ? dataArray[2].trim() : \"last\";\r\n    оbject.index = this.indexInParent(оbject.parent, оbject.element);\r\n    this.оbjects.push(оbject);\r\n  }\r\n\r\n  this.arraySort(this.оbjects);\r\n\r\n  // массив уникальных медиа-запросов\r\n  this.mediaQueries = Array.prototype.map.call(this.оbjects, function (item) {\r\n    return '(' + this.type + \"-width: \" + item.breakpoint + \"px),\" + item.breakpoint;\r\n  }, this);\r\n  this.mediaQueries = Array.prototype.filter.call(this.mediaQueries, function (item, index, self) {\r\n    return Array.prototype.indexOf.call(self, item) === index;\r\n  });\r\n\r\n  // навешивание слушателя на медиа-запрос\r\n  // и вызов обработчика при первом запуске\r\n  for (let i = 0; i < this.mediaQueries.length; i++) {\r\n    const media = this.mediaQueries[i];\r\n    const mediaSplit = String.prototype.split.call(media, ',');\r\n    const matchMedia = window.matchMedia(mediaSplit[0]);\r\n    const mediaBreakpoint = mediaSplit[1];\r\n\r\n    // массив объектов с подходящим брейкпоинтом\r\n    const оbjectsFilter = Array.prototype.filter.call(this.оbjects, function (item) {\r\n      return item.breakpoint === mediaBreakpoint;\r\n    });\r\n    matchMedia.addListener(function () {\r\n      _this.mediaHandler(matchMedia, оbjectsFilter);\r\n    });\r\n    this.mediaHandler(matchMedia, оbjectsFilter);\r\n  }\r\n};\r\n\r\nDynamicAdapt.prototype.mediaHandler = function (matchMedia, оbjects) {\r\n  if (matchMedia.matches) {\r\n    for (let i = 0; i < оbjects.length; i++) {\r\n      const оbject = оbjects[i];\r\n      оbject.index = this.indexInParent(оbject.parent, оbject.element);\r\n      this.moveTo(оbject.place, оbject.element, оbject.destination);\r\n    }\r\n  } else {\r\n    for (let i = 0; i < оbjects.length; i++) {\r\n      const оbject = оbjects[i];\r\n      if (оbject.element.classList.contains(this.daClassname)) {\r\n        this.moveBack(оbject.parent, оbject.element, оbject.index);\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\n// Функция перемещения\r\nDynamicAdapt.prototype.moveTo = function (place, element, destination) {\r\n  element.classList.add(this.daClassname);\r\n  if (place === 'last' || place >= destination.children.length) {\r\n    destination.insertAdjacentElement('beforeend', element);\r\n    return;\r\n  }\r\n  if (place === 'first') {\r\n    destination.insertAdjacentElement('afterbegin', element);\r\n    return;\r\n  }\r\n  destination.children[place].insertAdjacentElement('beforebegin', element);\r\n}\r\n\r\n// Функция возврата\r\nDynamicAdapt.prototype.moveBack = function (parent, element, index) {\r\n  element.classList.remove(this.daClassname);\r\n  if (parent.children[index] !== undefined) {\r\n    parent.children[index].insertAdjacentElement('beforebegin', element);\r\n  } else {\r\n    parent.insertAdjacentElement('beforeend', element);\r\n  }\r\n}\r\n\r\n// Функция получения индекса внутри родителя\r\nDynamicAdapt.prototype.indexInParent = function (parent, element) {\r\n  const array = Array.prototype.slice.call(parent.children);\r\n  return Array.prototype.indexOf.call(array, element);\r\n};\r\n\r\n// Функция сортировки массива по breakpoint и place \r\n// по возрастанию для this.type = min\r\n// по убыванию для this.type = max\r\nDynamicAdapt.prototype.arraySort = function (arr) {\r\n  if (this.type === \"min\") {\r\n    Array.prototype.sort.call(arr, function (a, b) {\r\n      if (a.breakpoint === b.breakpoint) {\r\n        if (a.place === b.place) {\r\n          return 0;\r\n        }\r\n\r\n        if (a.place === \"first\" || b.place === \"last\") {\r\n          return -1;\r\n        }\r\n\r\n        if (a.place === \"last\" || b.place === \"first\") {\r\n          return 1;\r\n        }\r\n\r\n        return a.place - b.place;\r\n      }\r\n\r\n      return a.breakpoint - b.breakpoint;\r\n    });\r\n  } else {\r\n    Array.prototype.sort.call(arr, function (a, b) {\r\n      if (a.breakpoint === b.breakpoint) {\r\n        if (a.place === b.place) {\r\n          return 0;\r\n        }\r\n\r\n        if (a.place === \"first\" || b.place === \"last\") {\r\n          return 1;\r\n        }\r\n\r\n        if (a.place === \"last\" || b.place === \"first\") {\r\n          return -1;\r\n        }\r\n\r\n        return b.place - a.place;\r\n      }\r\n\r\n      return b.breakpoint - a.breakpoint;\r\n    });\r\n    return;\r\n  }\r\n};\r\n\r\nconst da = new DynamicAdapt(\"max\");\r\nda.init();","function ibg() {\r\n  let ibg = document.querySelectorAll('.ibg');\r\n  ibg.forEach((el) => {\r\n    if (el.querySelector('img')) {\r\n      el.style.backgroundImage = 'url(' + el.querySelector('img').getAttribute('src') + ')';\r\n    }\r\n  });\r\n}\r\n\r\nibg();","function lockScroll() {\r\n  let pagePosition = window.scrollY; //сохраняем координаты на котором мы находились\r\n  document.body.classList.add('disable-scroll'); //выключаем скролл\r\n  document.body.dataset.position = pagePosition; //передаем в боди новый атребут\r\n  document.body.style.top = -pagePosition; //убираем прыжок при применение стилей\r\n}\r\n\r\nfunction unlockScroll() {\r\n  let pagePosition = parseInt(document.body.dataset.position, 10); //перевод в число позиции из атребота\r\n  document.body.style.top = 'auto';\r\n  document.body.classList.remove('disable-scroll');\r\n  window.scroll({ top: pagePosition, left: 0 });\r\n  document.body.removeAttribute('data-position');\r\n}","\r\nconst burger = document.querySelector('.js-icon-menu');\r\nconst menu = document.querySelector('.js-menu-body');\r\n\r\nburger.addEventListener('click', function () {\r\n  if (burger.classList.contains('_active')) {\r\n    burger.classList.remove('_active');\r\n    menu.classList.remove('_active');\r\n    unlockScroll();\r\n  } else {\r\n    burger.classList.add('_active');\r\n    menu.classList.add('_active');\r\n    lockScroll();\r\n  }\r\n});","// const swiper = new Swiper('.swiper-container', {\r\n//   // Optional parameters\r\n//   direction: 'vertical',\r\n//   loop: true,\r\n\r\n\r\n\r\n//   // If we need pagination\r\n//   pagination: {\r\n//     el: '.swiper-pagination',\r\n//   },\r\n\r\n//   // Navigation arrows\r\n//   navigation: {\r\n//     nextEl: '.swiper-button-next',\r\n//     prevEl: '.swiper-button-prev',\r\n//   },\r\n\r\n//   // And if we need scrollbar\r\n//   scrollbar: {\r\n//     el: '.swiper-scrollbar',\r\n//   },\r\n// });\r\n\r\nif (document.querySelector('.slider-main__body')) {\r\n  new Swiper('.slider-main__body', {\r\n    observer: true, //Установите значение true для включения наблюдателя изменений Swiper и его элементов.\r\n    observeParents: true, //Установите true если вам также нужно следить за изменений родительских элементов Swiper\r\n    slidesPerView: 1,//Кол-во слайдовб которые видны одновременно в контейнере слайдера\r\n    spaceBetween: 32, //Растояние между слайдом\r\n    watchOverflow: true, //Будут скрыты кнопки навигации, если слайдов недостаточно для анимации слайдов.\r\n    speed: 800, //Скорость слайдов\r\n    loop: true, //Бесконечное движение слайдов\r\n    loopAdditionalSlides: 5, //Добавление количества слайдов, которые будут клонированы после создания цикла\r\n    preloadImage: false, //При включении Swiper заставит загружать все изображения\r\n    parallax: true, //Паралакс эффект\r\n    //Dotts\r\n    pagination: {\r\n      el: '.controls-slider-main__dotts',\r\n      clickable: true, //можно кликаить по точкам\r\n    },\r\n\r\n    // Navigation arrows\r\n    navigation: {\r\n      nextEl: '.slider-main .slider-arrow__next',\r\n      prevEl: '.slider-main .slider-arrow__prev',\r\n    }\r\n  });\r\n}","window.onload = function () {//весь контент загрузися и срабатывает ф-ция\r\n  // window.addEventListener('load resize', function () {\r\n  document.addEventListener('click', documentActions);\r\n  //слушаем клики по всей странице\r\n\r\n  function documentActions(e) {\r\n    const targetElement = e.target; //обеект на который мы нажали на всем документов\r\n\r\n    if (window.innerWidth > 768 && isTouchDevice()) {\r\n      if (targetElement.classList.contains('menu__arrow')) {\r\n        targetElement.closest('.menu__item').classList.toggle('_hover');\r\n      }\r\n\r\n      let hoverItemElem = document.querySelectorAll('.menu__item._hover');\r\n\r\n      if (!targetElement.closest('.menu__item') && hoverItemElem.length > 0) {\r\n        hoverItemElem.forEach((el) => {\r\n          el.classList.remove('_hover');\r\n        });\r\n      }\r\n\r\n      if (targetElement.classList.contains('search-form__icon')) {\r\n        document.querySelector('.search-form').classList.toggle('_active');\r\n      } else if (!targetElement.closest('.search-form') && document.querySelector('.search-form._active')) {\r\n        document.querySelector('.search-form').classList.remove('_active');\r\n      }\r\n    }\r\n\r\n    if (window.innerWidth < 768) {\r\n      if (targetElement.closest('.js-accordion__item-menu') && (targetElement.classList.contains('js-accordion__header-menu'))) {\r\n        let elem = targetElement.closest('.js-accordion__item-menu');\r\n        elem.classList.toggle('_active');\r\n      } else if (targetElement.closest('.js-accordion__item-menu') && targetElement.classList.contains('js-accordion__btn-menu')) {\r\n        let elem = targetElement.closest('.js-accordion__item-menu');\r\n        elem.classList.toggle('_active');\r\n      }\r\n\r\n      if (targetElement.classList.contains('search-form__icon')) {\r\n        document.querySelector('.search-form').classList.toggle('_active');\r\n      } else if (!targetElement.closest('.search-form') && document.querySelector('.search-form._active')) {\r\n        document.querySelector('.search-form').classList.remove('_active');\r\n      }\r\n    }\r\n  }\r\n\r\n  function isTouchDevice() {\r\n    /* сначала выполняется typeof\r\n      если св-во ontouchstart объекта window нет то, оно возвращает undefined\r\n      если есть, то object\r\n      затем идет проверка на undefined\r\n    */\r\n\r\n    return typeof window.ontouchstart !== 'undefined';\r\n  }\r\n}\r\n"]}